import{R as a,j as e,L as d}from"./index-CCxlcZzJ.js";import{S as y}from"./SiteHeader-Bxm0rCts.js";import{g as p,r as g}from"./providerTrials-BhBLO8rx.js";import"./HeaderActions-DkMyBX6h.js";function C(){const[i,h]=a.useState("All"),[n,u]=a.useState("All"),[t,j]=a.useState(""),[c,x]=a.useState(()=>p().map(s=>({title:s.title,id:s.nctId,status:s.status,sponsor:s.sponsor}))),[o,m]=a.useState(null);a.useEffect(()=>{const s=r=>{r.key==="provider:trials:v1"&&x(p().map(l=>({title:l.title,id:l.nctId,status:l.status,sponsor:l.sponsor})))};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const N=a.useMemo(()=>c.filter(s=>(i==="All"||(s.status||"").toLowerCase()===i.toLowerCase())&&(n==="All"||(s.phase||"")===n)&&(t.trim()===""||s.title.toLowerCase().includes(t.trim().toLowerCase())||s.id.toLowerCase().includes(t.trim().toLowerCase()))),[i,n,t,c]);return e.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[e.jsx(y,{}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"All Trials"}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[e.jsx("div",{className:"relative w-full sm:w-[360px]",children:e.jsx("input",{value:t,onChange:s=>j(s.target.value),placeholder:"Search trial title",className:"w-full rounded-full border px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("select",{value:i,onChange:s=>h(s.target.value),className:"rounded-full border px-3 py-2 text-sm bg-white",children:["All","Recruiting","Completed","Suspended","Terminated","Unknown"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Phase:"}),e.jsx("select",{value:n,onChange:s=>u(s.target.value),className:"rounded-full border px-3 py-2 text-sm bg-white",children:["All","Phase I","Phase II","Phase III","Phase IV"].map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"mt-4 rounded-2xl border bg-white",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500",children:[e.jsx("th",{className:"px-4 py-3",children:"Trial Title"}),e.jsx("th",{className:"px-4 py-3",children:"Trial ID"}),e.jsx("th",{className:"px-4 py-3",children:"Trial Phase"}),e.jsx("th",{className:"px-4 py-3",children:"Trial Status"}),e.jsx("th",{className:"px-4 py-3",children:"Sites"}),e.jsx("th",{className:"px-4 py-3",children:"Matched"}),e.jsx("th",{className:"px-4 py-3",children:"Pre-screening"}),e.jsx("th",{className:"px-4 py-3",children:"Pre-screen Pass"}),e.jsx("th",{className:"px-4 py-3"})]})}),e.jsx("tbody",{className:"divide-y",children:N.map(s=>e.jsxs("tr",{className:"relative",children:[e.jsx("td",{className:"px-4 py-3 max-w-[280px] truncate",children:s.title}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:s.id}),e.jsx("td",{className:"px-4 py-3",children:s.phase||"-"}),e.jsx("td",{className:"px-4 py-3",children:(s.status||"").toUpperCase()==="RECRUITING"?e.jsx("span",{className:"rounded-full bg-emerald-100 text-emerald-700 px-2 py-1 text-xs",children:"Recruiting"}):e.jsx("span",{className:"text-gray-700",children:s.status||"-"})}),e.jsx("td",{className:"px-4 py-3",children:s.sites??"-"}),e.jsx("td",{className:"px-4 py-3",children:s.matched??"-"}),e.jsx("td",{className:"px-4 py-3",children:s.prescreening??"-"}),e.jsx("td",{className:"px-4 py-3",children:s.pass??"-"}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"inline-block relative",children:[e.jsx("button",{className:"rounded-full border px-3 py-1 text-xs hover:bg-gray-50",onClick:()=>m(r=>r===s.id?null:s.id),"aria-haspopup":"menu","aria-expanded":o===s.id,children:"Manage"}),o===s.id&&e.jsx("div",{className:"absolute right-0 mt-2 w-36 rounded-md border bg-white shadow",children:e.jsx("button",{className:"block w-full text-left px-3 py-2 text-xs text-red-600 hover:bg-gray-50",onClick:()=>{g(s.id),x(r=>r.filter(l=>l.id!==s.id)),m(null)},children:"Delete trial"})})]})})]},s.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"rounded border px-3 py-1 hover:bg-gray-50",children:"Previous"}),e.jsx("button",{className:"rounded border px-3 py-1 hover:bg-gray-50",children:"Next"})]}),e.jsx("div",{children:"Page 1 of 1"})]})]}),e.jsx("div",{className:"mt-6 text-sm text-gray-600",children:e.jsx(d,{to:"/providers/dashboard",className:"hover:underline",children:"Back to dashboard"})})]}),e.jsx("footer",{className:"w-full border-t mt-12",children:e.jsxs("div",{className:"w-full max-w-[1200px] mx-auto px-4 py-6 text-xs text-gray-600 flex items-center justify-between",children:[e.jsx("span",{children:"Copyright © 2025 TrialCliniq."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{to:"#",className:"hover:underline",children:"Terms of Conditions"}),e.jsx("span",{children:"•"}),e.jsx(d,{to:"#",className:"hover:underline",children:"Contact Us"}),e.jsx("span",{children:"•"}),e.jsx(d,{to:"#",className:"hover:underline",children:"Privacy Policy"})]}),e.jsx("span",{children:"Curated by Apperr"})]})})]})}export{C as default};
