import{e as N,f as S,r as l,j as e}from"./index-CBwxkYER.js";import{H as b}from"./HomeHeader-DCA5mGOj.js";import{S as j}from"./SignUpForm-GEFqOh1R.js";import"./HeaderActions-enBcWTEF.js";import"./search-BF8uR2Sf.js";import"./shield-DzTaURmU.js";import"./phoneValidation-6utpIYm-.js";function H(){const a=N(),{signIn:c}=S(),[p,s]=l.useState(!1),[u,i]=l.useState(null);async function d(r){var o,n;r.preventDefault(),i(null),s(!0);const t=r.currentTarget,f=t.email.value.trim(),x=t.phone.value.trim(),v=t.firstName.value.trim(),h=t.lastName.value.trim(),y=(n=(o=t.ref)==null?void 0:o.value)==null?void 0:n.trim();try{localStorage.setItem("pending_signup_v1",JSON.stringify({email:f,firstName:v,lastName:h,phone:x,ref:y,role:"provider"})),localStorage.setItem("pending_role_v1","provider"),a("/providers/site-information")}catch(m){i(m instanceof Error?m.message:"Sign up failed. Please try again.")}finally{s(!1)}}function g(){c({email:"demo.researcher@example.com",firstName:"Demo",lastName:"Researcher",userId:"demo-user-12345",role:"provider"}),a("/providers/dashboard")}return e.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[e.jsx(b,{}),e.jsx(j,{title:"Create Clinical Site Account",onSubmit:d,privacyPath:"/patients/privacy",signInPath:"/providers/login",error:u,isLoading:p}),e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"For testing purposes:"}),e.jsx("button",{onClick:g,className:"inline-block rounded-full bg-gray-200 hover:bg-gray-300 text-gray-900 px-6 py-2 text-sm font-medium transition",children:"Login as Demo Researcher"})]})})]})}export{H as default};
