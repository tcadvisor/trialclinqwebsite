import{e as U,u as q,R as s,j as e}from"./index-CMfvy1gl.js";import{S as F}from"./SiteHeader-pChEwl0z.js";import"./HeaderActions-BM9iwdsv.js";function T({onFiles:n}){const l=s.useRef(null);return e.jsx("div",{className:"rounded-xl border p-4 bg-white",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-10 w-10 grid place-items-center rounded-lg bg-gray-100 text-gray-600",children:"â¬†ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Upload Medical Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help us match you to the right clinical trials by sharing relevant medical documents. Our AI will securely scan and extract information from your documents to improve trial matching."}),e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{onClick:()=>{var a;return(a=l.current)==null?void 0:a.click()},type:"button",className:"rounded-full border px-4 py-2 text-sm hover:bg-gray-50",children:"Upload"}),e.jsx("input",{ref:l,type:"file",multiple:!0,className:"hidden",onChange:a=>n(a.target.files)})]})]})]})})}function W(){const n=U(),{search:l}=q(),a=s.useMemo(()=>new URLSearchParams(l).get("nctId")||"",[l]),[o,N]=s.useState(""),[d,w]=s.useState(!1),[m,k]=s.useState(""),[u,S]=s.useState(""),[x,C]=s.useState(0),[h,A]=s.useState(""),[p,I]=s.useState(""),[g,R]=s.useState(""),[c,y]=s.useState(""),[b,M]=s.useState(""),[f,P]=s.useState(""),[j,H]=s.useState(!1),[v,D]=s.useState(!1),E=s.useMemo(()=>{const t=new Date().getFullYear();return Array.from({length:80},(r,L)=>String(t-L))},[]),i=j&&v;function Y(t){if(t.preventDefault(),!i)return;const r={condition:o,healthy:d,year:m,meds:u,dob:h,zip:p,distance:g,gender:c,race:b,language:f};try{localStorage.setItem("tc_eligibility_profile",JSON.stringify(r))}catch{}n(`/patients/check${a?`?nctId=${encodeURIComponent(a)}`:""}`)}return e.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[e.jsx(F,{}),e.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10",children:[e.jsx("h1",{className:"text-center text-3xl font-semibold",children:"Check Your Eligibility for This Trial"}),e.jsx("p",{className:"mt-2 text-center text-gray-600",children:"Answer a few quick questions to see if you might qualify. No signup required."}),e.jsx("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-gray-600",children:e.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full border px-3 py-1 hover:bg-gray-50",type:"button",children:["Why are we asking this? ",e.jsx("span",{className:"text-gray-400",children:"â“˜"})]})}),e.jsx("div",{className:"mt-6 rounded-2xl border bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-10 w-10 grid place-items-center rounded-lg bg-blue-50 text-blue-700",children:"ðŸ”—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Match your Electronic Health Record (EHR) to trials"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Import your EHR to browse trials that fit your medical history and lab results with your consent."}),e.jsx("button",{type:"button",onClick:()=>n("/patients/ehr"),className:"mt-3 inline-flex items-center gap-2 rounded-full bg-gray-900 px-4 py-2 text-white text-sm hover:bg-black",children:"Connect to Trial Portal â†’"})]})]})}),e.jsxs("form",{onSubmit:Y,className:"mt-6 space-y-5",children:[e.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm space-y-5",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Date of Birth*"}),e.jsx("input",{type:"date",value:h,onChange:t=>A(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",placeholder:"Select date of birth"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Travel Distance*"}),e.jsxs("select",{value:g,onChange:t=>R(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",children:[e.jsx("option",{value:"",children:"How far can you travel"}),["5 miles","10 miles","25 miles","50 miles","100 miles","Any"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Location*"}),e.jsx("input",{value:p,onChange:t=>I(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",placeholder:"Search with zipcode"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Biological Gender*"}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>y("Male"),className:`px-4 py-2 rounded-full border ${c==="Male"?"bg-gray-900 text-white":"bg-white"}`,children:"Male"}),e.jsx("button",{type:"button",onClick:()=>y("Female"),className:`px-4 py-2 rounded-full border ${c==="Female"?"bg-gray-900 text-white":"bg-white"}`,children:"Female"})]})]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Race*"}),e.jsxs("select",{value:b,onChange:t=>M(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",children:[e.jsx("option",{value:"",children:"Select your race"}),["Asian","Black / African American","White","Native American","Pacific Islander","Other","Prefer not to say"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Primary Language Spoken*"}),e.jsx("input",{value:f,onChange:t=>P(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",placeholder:"Search your preferred language(s) for trial communication."})]})]})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Primary Condition(s)*"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You can add as many as apply. If youâ€™re unsure of the exact name, type what you know, weâ€™ll help match it."}),e.jsx("input",{value:o,onChange:t=>N(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",placeholder:"Search medical condition or keyword"}),e.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:t=>w(t.target.checked),className:"rounded"})," I am a healthy volunteer"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"When were you diagnosed?*"}),e.jsxs("select",{value:m,onChange:t=>k(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2 text-gray-700",children:[e.jsx("option",{value:"",children:"Select year"}),E.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This can help match you to trials requiring recent or long-term diagnoses."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Your Current Medications*"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Include prescription, over-the-counter, or supplements you take regularly. Add as many as apply."}),e.jsx("input",{value:u,onChange:t=>S(t.target.value),className:"mt-2 w-full rounded-full border px-4 py-2",placeholder:"Start typing a medication name (e.g. Metformin, Lis...)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upload medical documents*"}),e.jsx(T,{onFiles:t=>C(r=>r+(t?t.length:0))}),x>0&&e.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[x," document(s) added"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded",checked:j,onChange:t=>H(t.target.checked)})," I have read and agree to the Consent to Enroll and Privacy Policy."]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",className:"rounded",checked:v,onChange:t=>D(t.target.checked)})," I consent to share my (or the volunteerâ€™s) health data for clinical trial matching under HIPAA-compliant protocols."]}),e.jsx("div",{className:"text-xs text-gray-600",children:"You may revoke consent at any time in Settings"}),e.jsx("button",{disabled:!i,className:`w-full rounded-full px-6 py-3 text-white font-medium ${i?"bg-[#1033e5] hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"}`,children:"Check My Eligibility"}),e.jsx("div",{className:"text-center text-xs text-gray-600",children:"Your data stays private and protected with HIPAA-compliant security."})]})]})]})]})}export{W as default};
