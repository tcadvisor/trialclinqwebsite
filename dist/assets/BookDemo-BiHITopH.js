import{c as Y,e as F,r as t,j as e,M as J,L as N}from"./index-3kZk0rNx.js";import{S as K}from"./SiteHeader-CHrr19_Y.js";import{f as R,g as w}from"./phoneValidation-6utpIYm-.js";import{U as W}from"./user-DR2Gk2hW.js";import{P as $}from"./phone-Dn8VceUJ.js";import{C as G}from"./calendar-Cr5Dkitp.js";import{C as V}from"./clock-DwP-nKlq.js";import{S as Z}from"./send-CJSJpX0E.js";import"./HeaderActions-BUfyNln2.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);function oe(){const k=F(),n=t.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[]),[m,S]=t.useState(""),[u,T]=t.useState(""),[r,C]=t.useState(""),[o,p]=t.useState(null),[b,P]=t.useState(""),[g,A]=t.useState(""),[d,E]=t.useState(""),[x,M]=t.useState(""),[f,D]=t.useState(n),i=t.useMemo(()=>[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Phoenix",label:"Arizona (no DST)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii (HST)"},{value:"Europe/London",label:"UK (GMT/BST)"},{value:"Europe/Berlin",label:"Central Europe (CET/CEST)"},{value:"Asia/Kolkata",label:"India (IST, UTC+5:30)"},{value:"Asia/Singapore",label:"Singapore (SGT, UTC+8)"},{value:"Asia/Tokyo",label:"Japan (JST, UTC+9)"},{value:"Australia/Sydney",label:"Australia East (AET)"},{value:"UTC",label:"UTC"}],[]),U=t.useMemo(()=>i.some(s=>s.value===n)?i:[{value:n,label:`Current: ${n}`},...i],[i,n]),[v,y]=t.useState(!1),[j,c]=t.useState(null),[B,q]=t.useState(!1);function z(){if(!m.trim())return"Please enter your name.";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u))return"Please enter a valid email.";if(r.trim()){const a=w(r,"US");if(a)return a}return d?x?null:"Please select a time.":"Please select a date."}const O=a=>{const s=a.target.value,l=R(s,"US");C(l),o&&p(null)},H=()=>{if(r.trim()){const a=w(r,"US");p(a)}};async function I(){const a={name:m,email:u,phone:r||void 0,affiliation:b||void 0,comments:g||void 0,date:d,time:x,timezone:f};try{const s=await fetch("/.netlify/functions/book-demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){const h=await s.json().catch(()=>({}));throw new Error((h==null?void 0:h.error)||`Request failed with status ${s.status}`)}return(await s.json()).ok===!0}catch(s){throw console.error("Resend submission error:",s),new Error((s==null?void 0:s.message)||"Failed to submit booking request")}}async function L(a){a.preventDefault(),c(null);const s=z();if(s){c(s);return}y(!0);try{if(await I()){q(!0),setTimeout(()=>k("/",{replace:!0}),2e3);return}c("Failed to submit booking request. Please try again.")}catch(l){c((l==null?void 0:l.message)||"An error occurred while submitting your booking."),console.error("Submission error:",l)}finally{y(!1)}}return e.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[e.jsx(K,{active:void 0}),e.jsxs("main",{className:"px-4",children:[e.jsxs("section",{className:"max-w-5xl mx-auto pt-12 pb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Book a Demo"}),e.jsx("p",{className:"mt-3 text-gray-600 max-w-2xl",children:"Pick a date and time that works for you. We’ll send the booking to our team with your contact details."})]}),e.jsxs("section",{className:"max-w-5xl mx-auto pb-20 grid md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("form",{onSubmit:L,className:"rounded-2xl border bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Your name"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:a=>S(a.target.value),className:"w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Jane Doe","aria-label":"Your name"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"email",value:u,onChange:a=>T(a.target.value),className:"w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com","aria-label":"Email"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Phone (optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"tel",value:r,onChange:O,onBlur:H,className:`w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 ${o?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"}`,placeholder:"(555) 000-0000","aria-label":"Phone"})]}),o&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Affiliation"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:a=>P(a.target.value),className:"w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Hospital / Site / Organization","aria-label":"Affiliation"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700 md:col-span-2",children:[e.jsx("span",{className:"block mb-1",children:"Comments (optional)"}),e.jsx("textarea",{value:g,onChange:a=>A(a.target.value),className:"w-full min-h-32 rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Anything we should know before the meeting?","aria-label":"Comments"})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"date",value:d,onChange:a=>E(a.target.value),className:"w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Date"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"time",value:x,onChange:a=>M(a.target.value),className:"w-full rounded-lg border border-gray-300 pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Time"})]})]}),e.jsxs("label",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"block mb-1",children:"Time zone"}),e.jsx("select",{value:f,onChange:a=>D(a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Time zone",children:U.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]}),j&&e.jsx("div",{role:"alert",className:"mt-4 rounded-lg bg-red-50 text-red-700 px-3 py-2 text-sm",children:j}),B&&e.jsx("div",{className:"mt-4 rounded-lg bg-emerald-50 text-emerald-800 px-3 py-2 text-sm",children:"Booking submitted. We’ll confirm by email."}),e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsxs("button",{type:"submit",disabled:v,className:"inline-flex items-center gap-2 rounded-full bg-blue-600 text-white px-5 py-2.5 font-medium hover:bg-blue-700 disabled:opacity-60",children:[e.jsx(Z,{className:"h-4 w-4"}),v?"Submitting…":"Book demo"]}),e.jsx(N,{to:"/",className:"text-sm text-gray-600 hover:text-gray-900",children:"Cancel"})]})]})}),e.jsxs("aside",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-2xl border bg-white p-5",children:[e.jsx("div",{className:"font-medium",children:"What happens next?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"You’ll receive a confirmation email. If the time isn’t available, we’ll propose an alternative."})]}),e.jsxs("div",{className:"rounded-2xl border bg-white p-5",children:[e.jsx("div",{className:"font-medium",children:"Prefer email?"}),e.jsx("a",{className:"text-sm text-blue-700 hover:underline",href:"mailto:chandler@trialcliniq.com?subject=DEMO%20BOOKING",children:"chandler@trialcliniq.com"})]})]})]})]}),e.jsx("footer",{className:"border-t",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 text-xs text-gray-500 flex items-center justify-between",children:[e.jsxs("span",{children:["© ",new Date().getFullYear()," TrialCliniq"]}),e.jsx(N,{to:"/patients/privacy",className:"hover:text-gray-700",children:"Privacy"})]})})]})}export{oe as default};
