import{e as c,u as m,f as u,R as g,j as e}from"./index-CCxlcZzJ.js";import{S as f}from"./shield-yvlJJjQt.js";function b(){const s=c(),{search:r}=m(),{isAuthenticated:o}=u();return g.useEffect(()=>{const i=new URLSearchParams(r);if(i.get("source")==="profile"||o)try{const a=localStorage.getItem("tc_health_profile_v1");if(a){const t=JSON.parse(a),d={condition:t.primaryCondition||"",healthy:!1,year:t.diagnosed||"",meds:Array.isArray(t.medications)?t.medications.map(n=>n==null?void 0:n.name).filter(Boolean).join(", "):"",dob:"",age:t.age?parseInt(String(t.age),10):void 0,zip:"",distance:"",gender:t.gender||"",race:t.race||"",language:t.language||""};localStorage.setItem("tc_eligibility_profile",JSON.stringify(d))}else{const t=i.get("nctId");s(`/patients/connect${t?`?nctId=${encodeURIComponent(t)}`:""}`);return}}catch{const a=i.get("nctId");s(`/patients/connect${a?`?nctId=${encodeURIComponent(a)}`:""}`);return}const l=setTimeout(()=>{const a=i.get("nctId");s(`/patients/result${a?`?nctId=${encodeURIComponent(a)}`:""}`)},6e3);return()=>clearTimeout(l)},[s,r,o]),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"relative w-full max-w-2xl mx-4 rounded-2xl bg-white shadow-xl p-8 text-center",children:[e.jsx("button",{"aria-label":"Close",onClick:()=>s(-1),className:"absolute right-3 top-3 rounded-full p-2 text-gray-500 hover:bg-gray-100",children:"×"}),e.jsxs("div",{className:"mx-auto mb-6 h-48 w-48 relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-gray-100 via-white to-gray-200 shadow-inner"}),e.jsx("div",{className:"absolute -inset-2 rounded-full blur-2xl bg-gradient-to-tr from-blue-200/50 via-emerald-200/40 to-purple-200/40"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/40 animate-spin",style:{animationDuration:"6s"}}),e.jsx("div",{className:"absolute left-1/2 top-1/2 -ml-1 -mt-1 h-2 w-2 rounded-full bg-[#1033e5] shadow-md animate-[orbit_3s_linear_infinite]"}),e.jsx("div",{className:"absolute left-1/2 top-1/2 -ml-1 -mt-1 h-2 w-2 rounded-full bg-emerald-500 shadow-md animate-[orbit_4s_linear_infinite]",style:{transform:"rotate(180deg)"}})]}),e.jsx("h2",{className:"text-lg font-semibold",children:"Our AI is reviewing your eligibility based on trial requirements…"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please hold on, this will only take a few seconds"}),e.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-gray-600",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{children:"Your data stays private and protected with HIPAA-compliant security."})]}),e.jsx("style",{children:`
          @keyframes orbit {
            0%   { transform: rotate(0deg) translateX(80px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
          }
        `})]})})}export{b as default};
