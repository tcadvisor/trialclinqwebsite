import{r as p,j as t,h as S}from"./index-CCxlcZzJ.js";import{H as h}from"./HomeHeader-CuYLgdJm.js";import{S as x}from"./SignUpForm-BsIcfLVT.js";import"./HeaderActions-DkMyBX6h.js";import"./search-BWw5TR3N.js";import"./shield-yvlJJjQt.js";import"./phoneValidation-6utpIYm-.js";function w(){const[u,r]=p.useState(!1),[f,a]=p.useState(null);async function g(i){var l,m;i.preventDefault(),a(null),r(!0);const e=i.currentTarget,s=e.email.value.trim(),d=e.phone.value.trim(),n=e.firstName.value.trim(),o=e.lastName.value.trim(),v=(m=(l=e.ref)==null?void 0:l.value)==null?void 0:m.trim();try{localStorage.setItem("pending_signup_v1",JSON.stringify({email:s,firstName:n,lastName:o,phone:d,ref:v,role:"provider"})),localStorage.setItem("pending_role_v1","provider"),await S({email:s,password:"",firstName:n,lastName:o})}catch(c){a(c instanceof Error?c.message:"Sign up failed. Please try again.")}finally{r(!1)}}return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[t.jsx(h,{}),t.jsx(x,{title:"Create Clinical Site Account",onSubmit:g,privacyPath:"/patients/privacy",signInPath:"/providers/login",error:f,isLoading:u})]})}export{w as default};
