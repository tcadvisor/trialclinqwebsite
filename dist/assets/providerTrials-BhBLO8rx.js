const s="provider:trials:v1";function n(){try{const t=localStorage.getItem(s);if(!t)return[];const r=JSON.parse(t);return Array.isArray(r)?r:[]}catch{return[]}}function o(t){try{localStorage.setItem(s,JSON.stringify(t)),window.dispatchEvent(new StorageEvent("storage",{key:s}))}catch{}}function c(){return n()}function d(t){const r=t.trim().toUpperCase();return n().some(e=>(e.nctId||"").trim().toUpperCase()===r)}function p(t){const r=n(),e=t.nctId.trim().toUpperCase(),i=r.findIndex(a=>(a.nctId||"").trim().toUpperCase()===e);i>=0?r[i]={...r[i],...t}:r.unshift({...t,nctId:e}),o(r)}function f(t){const r=t.trim().toUpperCase();o(n().filter(e=>(e.nctId||"").trim().toUpperCase()!==r))}export{p as a,c as g,d as i,f as r};
