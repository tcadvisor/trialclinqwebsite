const g=new Set(["a","an","and","are","as","at","be","but","by","for","from","how","i","in","is","it","of","on","or","the","to","with","that","this","those","these","near","around","about","me","my","our","we","you"]),l=[{pattern:/\bbreast cancer\b/i,group:['"breast cancer"','"triple negative breast cancer"','"breast neoplasms"','"mammary carcinoma"']},{pattern:/\bprostate cancer\b/i,group:['"prostate cancer"','"prostatic neoplasms"']},{pattern:/\blung cancer\b/i,group:['"lung cancer"',"NSCLC","SCLC",'"non small cell lung cancer"','"small cell lung cancer"']},{pattern:/\bcolorectal cancer\b/i,group:['"colorectal cancer"',"CRC",'"colon cancer"','"rectal cancer"']},{pattern:/\bmelanoma\b/i,group:["melanoma",'"cutaneous melanoma"']},{pattern:/\bovarian cancer\b/i,group:['"ovarian cancer"','"ovarian neoplasms"']},{pattern:/\bpancreatic cancer\b/i,group:['"pancreatic cancer"','"pancreatic neoplasms"']},{pattern:/\bbrain cancer\b|\bglioblastoma\b/i,group:["glioblastoma","GBM",'"brain tumor"','"brain neoplasms"']},{pattern:/\bheart attack\b|\bmyocardial infarction\b|\bmi\b/i,group:['"myocardial infarction"','"heart attack"',"MI"]},{pattern:/\batrial fibrillation\b|\bafib\b/i,group:['"atrial fibrillation"',"AFib"]},{pattern:/\bcongestive heart failure\b|\bchf\b/i,group:['"heart failure"',"CHF",'"congestive heart failure"']},{pattern:/\bhypertension\b|\bhigh blood pressure\b/i,group:["hypertension",'"high blood pressure"']},{pattern:/\btype\s*2\s*diabetes\b|\bt2d\b|\bdiabetes\b/i,group:['"type 2 diabetes"',"T2D","diabetes"]},{pattern:/\bobesity\b|\bweight loss\b/i,group:["obesity",'"weight loss"']},{pattern:/\bcopd\b|\bchronic obstructive pulmonary disease\b/i,group:["COPD",'"chronic obstructive pulmonary disease"']},{pattern:/\bazthma\b|\basthma\b/i,group:["asthma"]},{pattern:/\balzheimer'?s?\b|\bad\b/i,group:["Alzheimer",'"Alzheimer disease"',"AD"]},{pattern:/\bparkinson'?s?\b/i,group:["Parkinson",'"Parkinson disease"']},{pattern:/\bdepression\b|\bmajor depressive\b/i,group:["depression",'"major depressive disorder"',"MDD"]},{pattern:/\bchemo\b|\bchemotherapy\b/i,group:["chemotherapy","chemo"]},{pattern:/\bradiation\b|\bradiotherapy\b/i,group:["radiation","radiotherapy"]},{pattern:/\bimmunotherapy\b|\bcheckpoint\b/i,group:["immunotherapy",'"immune checkpoint"',"pembrolizumab","nivolumab",'"PD-1"','"PD-L1"']},{pattern:/\bstage\s*4\b|\bstage\s*iv\b|\bmetastatic\b/i,group:['"stage iv"','"stage 4"',"metastatic"]},{pattern:/\brecurrence\b|\brecurrent\b/i,group:["recurrent","recurrence"]}],u={nsclc:['"non small cell lung cancer"',"NSCLC"],sclc:['"small cell lung cancer"',"SCLC"],tnbc:['"triple negative breast cancer"',"TNBC"],copd:["COPD",'"chronic obstructive pulmonary disease"'],afib:["AFib",'"atrial fibrillation"'],mi:["MI",'"myocardial infarction"'],crc:["CRC",'"colorectal cancer"'],gbm:["GBM","glioblastoma"]};function m(n){return n.toLowerCase().replace(/[^a-z0-9\s\-]/g," ").split(/\s+/).filter(Boolean)}function h(n){return n.filter(a=>!g.has(a))}function d(n){const a=(n||"").trim();if(!a)return"";const o=[];let r=a;for(const e of l)e.pattern.test(r)&&(o.push(`(${Array.from(new Set(e.group)).join(" OR ")})`),r=r.replace(new RegExp(e.pattern,"gi")," "));let c=h(m(r));const i=[],s=[];for(const e of c){const p=u[e];p?i.push(`(${Array.from(new Set(p)).join(" OR ")})`):s.push(e)}const b=s.map(e=>e.includes(" ")?`"${e}"`:e).join(" AND "),t=[...o,...i];return b&&t.push(b),t.length===0?a:t.join(" AND ")}function f(n){const a=(n||"").trim();if(!a)return"";const o=[];let r=a;for(const e of l)e.pattern.test(r)&&(o.push(`(${Array.from(new Set(e.group)).join(" OR ")})`),r=r.replace(new RegExp(e.pattern,"gi")," "));let c=h(m(r));const i=[],s=[];for(const e of c){const p=u[e];p?i.push(`(${Array.from(new Set(p)).join(" OR ")})`):s.push(e)}const b=s.map(e=>e.includes(" ")?`"${e}"`:e).join(" OR "),t=[...o,...i];return b&&t.push(b),t.length===0?a:t.join(" OR ")}function y(n){const a=(n||"").trim();if(!a)return"";if(/^\s*(usa?|united\s+states?)\s*$/i.test(a))return"United States";const o=a.replace(/^\s*(near|around|in|within)\s+/i,"").replace(/\s{2,}/g," ").trim(),r={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"},c=o.match(/^(.*?),\s*([A-Za-z]{2})(?:,\s*(USA|United States))?$/i);if(c){const s=c[1].trim(),b=c[2].toUpperCase(),t=r[b];if(s&&t)return`${s}, ${t}`}const i=o.toUpperCase();return r[i]?r[i]:o}export{f as a,d as b,y as n};
