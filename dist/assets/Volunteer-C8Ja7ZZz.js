import{e as d,r as l,j as a}from"./index-BDmcj3uD.js";import{H as _}from"./HomeHeader-BQ5ppljt.js";import{S as y}from"./SignUpForm-BTayngnb.js";import"./HeaderActions-BxMjWePd.js";import"./search-BbRWnryx.js";import"./shield-DfeMmaU7.js";function b(){const m=d(),[c,r]=l.useState(!1),[p,o]=l.useState(null);async function u(n){var s,i;n.preventDefault(),o(null),r(!0);const t=n.currentTarget,f=t.email.value.trim(),g=t.phone.value.trim(),v=t.firstName.value.trim(),h=t.lastName.value.trim(),S=(i=(s=t.ref)==null?void 0:s.value)==null?void 0:i.trim();try{localStorage.setItem("pending_signup_v1",JSON.stringify({email:f,firstName:v,lastName:h,phone:g,ref:S,role:"patient"}));try{localStorage.removeItem("tc_health_profile_v1"),localStorage.removeItem("tc_health_profile_metadata_v1"),localStorage.removeItem("tc_docs")}catch{}m("/patients/consent")}catch(e){o(e instanceof Error?e.message:"Sign up failed. Please try again.")}finally{r(!1)}}return a.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[a.jsx(_,{}),a.jsx(y,{title:"Create Patient Account",onSubmit:u,privacyPath:"/patients/privacy",signInPath:"/patients/login",error:p,isLoading:c})]})}export{b as default};
